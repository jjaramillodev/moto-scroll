<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="styles.css">
  <title>Moto Scroll</title>
</head>
<script type="module">

  const img = document.querySelector('#img')

  const MAX_FRAMES = 151

  // altura maxima del scroll
  let maxScroll = document.documentElement.scrollHeight - window.innerHeight

  window.addEventListener('resize', () => {
    maxScroll = document.documentElement.scrollHeight - window.innerHeight
  })

  window.addEventListener('scroll', () => {
    // posici√≥n actual del scroll
    const scroll = window.scrollY
    // porcentaje de scroll
    const scrollFraction = scroll / maxScroll
    // que frame toca?
    const frame = Math.floor(scrollFraction * MAX_FRAMES) || 1
    // crear el id del frame
    const id = frame.toString().padStart(3, '0')
    // cambiar la imagen
    img.src = `./frames/moto-${id}.webp`
  })
</script>
<body>
  <main>
    <header>
      <img src="./logo.png" alt="Ichiban - Your Way to Freedom" />
    </header>
    <img id="img" src="./frames/0.webp" alt="Ichiban - Your Way to Freedom" />
  </main>
</body>
</html>